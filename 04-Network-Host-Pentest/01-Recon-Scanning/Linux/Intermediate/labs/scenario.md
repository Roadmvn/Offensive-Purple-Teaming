# Lab Challenge - Linux Recon Intermediate

## Scénario : Audit de sécurité d'une infrastructure d'entreprise

Vous êtes pentester senior mandaté pour évaluer la sécurité d'une infrastructure d'entreprise de taille moyenne. L'organisation dispose de plusieurs sous-réseaux (192.168.10.0/24 pour les serveurs, 192.168.20.0/24 pour les postes de travail, 192.168.30.0/24 pour les équipements réseau) et souhaite une évaluation complète de sa surface d'attaque interne.

## ⚑ Étape 1 : Découverte et cartographie multi-réseaux

**Objectif :** Effectuer une découverte complète des trois sous-réseaux en optimisant les performances et la discrétion.

**Questions :**
1. Utilisez Masscan pour découvrir tous les hôtes actifs sur les trois sous-réseaux en moins de 5 minutes.
2. Identifiez les 10 ports les plus fréquemment ouverts à travers l'infrastructure.
3. Déterminez quel sous-réseau présente la plus grande surface d'attaque (nombre de services exposés).
4. Créez une cartographie visuelle des services par sous-réseau.

## ⚑ Étape 2 : Énumération avancée et détection de vulnérabilités

**Objectif :** Approfondir l'analyse des services critiques et identifier les vulnérabilités exploitables.

**Questions :**
1. Utilisez les scripts NSE pour énumérer tous les partages SMB accessibles sans authentification.
2. Identifiez au moins 3 services web et analysez leurs configurations de sécurité (headers, méthodes HTTP, répertoires).
3. Découvrez tous les services SNMP actifs et tentez d'extraire les informations système.
4. Détectez les vulnérabilités critiques (CVE) sur au moins 5 services différents.

## ⚑ Étape 3 : Analyse UDP et services cachés

**Objectif :** Découvrir les services UDP critiques et identifier les services non-standard.

**Questions :**
1. Effectuez une découverte UDP complète et identifiez tous les serveurs DNS internes.
2. Localisez les services DHCP et analysez leurs configurations.
3. Découvrez des services sur des ports non-standard (>10000) en utilisant des techniques d'énumération avancées.
4. **Bonus stealth :** Implémentez une technique d'évasion personnalisée combinant fragmentation, decoy hosts et timing aléatoire.

**Livrables attendus :**
- Rapport exécutif avec cartographie réseau et recommandations prioritaires
- Base de données complète des services découverts avec niveaux de risque
- Scripts d'automatisation pour reproduire l'audit
- Preuves de concept pour les vulnérabilités critiques identifiées

